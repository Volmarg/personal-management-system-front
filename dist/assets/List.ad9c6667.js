import{B as t}from"./Base.b55dfd74.js";import{_ as e,M as l,r as a,o,e as i,f as n,n as s,aA as d,t as c,aa as r,af as u,h as m,p,l as h,aK as f,Y as b,aN as C,a1 as y,k as g,j as v,I as M,aW as w,B as x,a0 as S,ab as V,g as k,W as T,aE as $,aF as E,b8 as D,c as I,aY as B,aS as F,R as A,X as q}from"./index.db8bde11.js";import{P as R}from"./PublicFolderService.9fc40093.js";import{F as _}from"./FloatingRoundedPlus.25f58d22.js";import{S as N}from"./SearchInput.ef99a9ef.js";import{C as P}from"./ColorInfoBlock.507c298b.js";import{S as j,I as O,T as z,G as L}from"./GroupStore.2b314199.js";import{C as G}from"./ColorBorderBar.86dcbce2.js";import"./BrowserDetection.6a5570eb.js";import"./SymfonyFileRoutes.5d7880cf.js";import"./FloatingBox.d0c09d8b.js";const W={props:{contactData:{type:Object,required:!0},textColor:{type:String,required:!1,default:"rgb(59, 130, 246)"}},mixins:[{methods:{getFilePublicPath:t=>R.buildUrl(t)}}],components:{MediumButtonWithIcon:l}},U={class:"main-wrapper"},H={class:"container max-w-lg bg-white rounded dark:bg-gray-800 shadow-lg transform duration-200 easy-in-out m-1 md:m-6"},Y={class:"h-32 overflow-hidden z-1"},J={class:"flex justify-center px-5 -mt-12 mb-5 z-2 relative"},K={clspanss:"block relative h-32 w-32"},X=["src"],Q={class:""},Z={class:"px-7 mb-8"},tt={class:"mt-2 text-gray-500"},et=(ct=()=>n("hr",{class:"mt-1"},null,-1),p("data-v-e0a950b6"),ct=ct(),h(),ct),lt={class:"mt-2 text-gray-500"},at={class:"contact-types-wrapper"},ot={class:"contact-types"},it={class:"img-wrapper"},nt=["src"],st={class:"contact-details"},dt={class:"md:grid grid-cols-1 md:grid-cols-2 mb-2"};var ct,rt=e(W,[["render",function(t,e,l,p,h,f){const b=a("MediumButtonWithIcon");return o(),i("div",U,[n("div",H,[n("div",Y,[n("div",{class:s(["h-full opacity-30 z-1",{"bg-blue-200":!l.contactData.groupColor}]),style:d({"background-color":`#${l.contactData.groupColor}`})},null,6)]),n("div",J,[n("span",K,[n("img",{src:l.contactData.imagePath,class:"mx-auto object-cover rounded-full h-24 w-24 bg-white p-1"},null,8,X)])]),n("div",Q,[n("div",Z,[n("h2",{class:"text-2xl font-bold",style:d({color:l.textColor})},c(l.contactData.name),5),n("p",tt,c(l.contactData.description),1),et,n("p",lt,c(l.contactData.groupName),1),n("div",at,[n("div",ot,[(o(!0),i(r,null,u(l.contactData.types,(e=>(o(),i("div",{class:"contact-data",key:JSON.stringify(e.uuid)},[n("div",it,[n("img",{src:t.getFilePublicPath(e.icon_path)},null,8,nt)]),n("div",st,[n("p",null,c(e.name),1),n("p",null,c(e.details),1)])])))),128))])])])]),n("div",dt,[m(b,{text:t.$t("contacts.button.edit.label"),"button-extra-classes":"pt-3 pb-3 sm:pt-1 sm:pb-1",class:"w-full mb-1 pl-2 pr-2 md:col-start-1 md:col-end-2","button-classes":"w-full m-0-force","text-classes":"text-center w-full",onButtonClick:e[0]||(e[0]=e=>t.$emit("editClick",{contactData:l.contactData}))},null,8,["text"]),m(b,{text:t.$t("contacts.button.remove.label"),class:"w-full mb-1 pl-2 pr-2","button-classes":"w-full m-0-force","text-classes":"text-center w-full","background-color-class":"bg-red-500",onButtonClick:e[1]||(e[1]=e=>t.$emit("removeClick",{contactData:l.contactData}))},null,8,["text"])])])])}],["__scopeId","data-v-e0a950b6"]]),ut=e({data:()=>({selectedValue:null}),props:{groupsData:{type:Array,required:!0},isRequired:{type:Boolean,required:!1,default:!1}},components:{MultiSelect:f},computed:{options(){let t=[];for(let e of this.groupsData)t.push({label:e.name,value:e.id,component:P,props:{colorHex:e.color,maxWidth:"10px"}});return t}},methods:{onOptionChanged(t){this.selectedValue=t,this.$emit("update:modelValue",t)}}},[["render",function(t,e,l,i,n,s){const d=a("MultiSelect");return o(),b(d,{label:t.$t("contacts.list.other.group.label"),options:s.options,onChange:s.onOptionChanged,onSelect:s.onOptionChanged,onDeselect:s.onOptionChanged,onClear:s.onOptionChanged,onPaste:s.onOptionChanged,modelValue:n.selectedValue,"onUpdate:modelValue":e[0]||(e[0]=t=>n.selectedValue=t),mode:"single","allow-show-options-list":!0,"allow-create-options":!1,"can-clear":!0,required:l.isRequired},null,8,["label","options","onChange","onSelect","onDeselect","onClear","onPaste","modelValue","required"])}]]),mt=e({emits:["modalClosed","removeConfirmClick"],data:()=>({showModal:!1}),props:{identifier:{type:Number,required:!0},isModalVisible:{type:Boolean,required:!0,default:!1}},components:{WarningModal:C},mixins:[y],methods:{async onConfirm(){(await this.$moduleCall.remove(j.CONTACT_TYPES_BASE_URL,this.identifier,!1)).success&&(this.$emit("removeConfirmClick"),this.$emit("modalClosed"))},onModalClosed(){this.$emit("modalClosed")}},updated(){this.showModal=this.isModalVisible}},[["render",function(t,e,l,n,s,d){const r=a("WarningModal");return o(),i("div",null,[m(r,{"is-visible":s.showModal,title:t.$t("generic.action.remove.dialog.header"),onModalClosed:d.onModalClosed,onConfirm:d.onConfirm,size:t.modalSize},{content:g((()=>[v(c(t.$t("components.modal.text.removeRecord")),1)])),_:1},8,["is-visible","title","onModalClosed","onConfirm","size"])])}]]);const pt={class:"flex justify-center"},ht={class:"mt-6 md:w-1/2 lg:w-1/3 w-full flex flex-col"},ft={class:"text-lg"};var bt=e({data:()=>({form:{typeId:null,value:null}}),props:{uuid:{type:[Number,null],required:!1,default:null},header:{type:[String,null],required:!1,default:null},typeId:{type:[Number,null],required:!1,default:null},typeName:{type:[String,null],required:!1,default:null},contactId:{type:[Number,null],required:!1,default:null},value:{type:[String,null],required:!1,default:null}},components:{MediumButtonWithIcon:l,TypeSelect:e({data:()=>({types:[],selectedValue:null}),props:{name:{type:[String,null],required:!1,default:null}},components:{MultiSelect:f},computed:{options(){let t=[];for(let e of this.types)t.push({label:e.name,value:e.id,component:O,props:{path:R.buildUrl(e.imagePath),width:"35px"}});return t}},methods:{clear(){this.$refs.multiselect.clear()},onOptionChanged(t){this.selectedValue=t,this.$emit("update:modelValue",t)},selectByName(){if(this.name)for(let t of this.types)if(t.name===this.name){this.selectedValue=t.id;break}}},async beforeMount(){let t=z();await t.getAll(),this.types=t.allEntries,this.selectByName()}},[["render",function(t,e,l,n,s,d){const c=a("MultiSelect");return o(),i("div",null,[m(c,{label:t.$t("contacts.list.modal.addEdit.typeForm.type.label"),options:d.options,onChange:d.onOptionChanged,onSelect:d.onOptionChanged,onDeselect:d.onOptionChanged,onClear:d.onOptionChanged,onPaste:d.onOptionChanged,modelValue:s.selectedValue,"onUpdate:modelValue":e[0]||(e[0]=t=>s.selectedValue=t),mode:"single","allow-show-options-list":!0,"allow-create-options":!1,"can-clear":!0,required:!0,ref:"multiselect"},null,8,["label","options","onChange","onSelect","onDeselect","onClear","onPaste","modelValue"])])}]]),FormInput:M},methods:{clearForm(){this.$refs.typeSelect.clear(),this.form.value=null},async onSubmit(){let t,e={typeId:this.form.typeId,value:this.form.value,contactId:this.contactId,uuid:this.uuid},l=new w(j.CONTACT_TYPES_BASE_URL,null,x,e);l.reload=!1,t=this.uuid?await this.$moduleCall.update(l):await this.$moduleCall.new(l),t.success&&(this.$emit("submit"),this.clearForm())}},async beforeMount(){this.form.typeId=this.typeId,this.form.value=this.value}},[["render",function(t,e,l,s,d,r){const u=a("FormInput"),p=a("TypeSelect"),h=a("MediumButtonWithIcon");return o(),i("div",pt,[n("div",ht,[n("h2",ft,c(l.header),1),m(u,{type:"text",modelValue:d.form.value,"onUpdate:modelValue":e[0]||(e[0]=t=>d.form.value=t),"is-required":!0,label:t.$t("contacts.list.modal.addEdit.typeForm.value.label")},null,8,["modelValue","label"]),m(p,{modelValue:d.form.typeId,"onUpdate:modelValue":e[1]||(e[1]=t=>d.form.typeId=t),name:l.typeName,class:"mb-6",ref:"typeSelect"},null,8,["modelValue","name"]),m(h,{text:t.$t("contacts.list.modal.addEdit.typeForm.submit.label"),"button-extra-classes":"pt-3 pb-3 sm:pt-1 sm:pb-1",class:"w-full mb-1 md:col-start-1 md:col-end-2","button-classes":"w-full md:w-auto m-0-force","text-classes":"text-center w-full",onButtonClick:r.onSubmit},null,8,["text","onButtonClick"])])])}]]),Ct=e({data:()=>({initialSmallSizeModal:"medium",showModal:!1,contactData:{}}),props:{contactId:{type:Number,required:!0},data:{type:[Object,null],required:!1,default:null},isModalVisible:{type:Boolean,required:!0,default:!1}},components:{MediumButtonWithIcon:l,TypeAddEditForm:bt,Modal:S},mixins:[y],emits:["modalClosed","removeClick","confirmClick"],computed:{header(){return this.data?this.$t("contacts.list.modal.addEdit.header.edit"):this.$t("contacts.list.modal.addEdit.header.add")}},methods:{onModalClosed(){this.$emit("modalClosed")}},updated(){this.showModal=this.isModalVisible},watch:{data(){this.contactData=this.data}}},[["render",function(t,e,l,n,s,d){const c=a("TypeAddEditForm"),r=a("MediumButtonWithIcon"),u=a("Modal");return o(),i("div",null,[m(u,{"is-visible":s.showModal,title:t.$t("contacts.list.modal.typeEdit.header"),"cancel-text":t.$t("contacts.list.modal.addEdit.button.close.label"),size:t.modalSize,onModalClosed:d.onModalClosed},{content:g((()=>{var a,o,i,n,s,d;return[m(c,{"contact-id":l.contactId,"type-name":null!=(o=null==(a=l.data)?void 0:a.name)?o:null,value:null!=(n=null==(i=l.data)?void 0:i.details)?n:null,uuid:null!=(d=null==(s=l.data)?void 0:s.uuid)?d:null,onSubmit:e[0]||(e[0]=e=>{t.$emit("confirmClick"),t.$emit("modalClosed")})},null,8,["contact-id","type-name","value","uuid"])]})),footerRightSection:g((()=>[m(r,{text:t.$t("contacts.list.modal.typeEdit.button.remove.label"),"button-extra-classes":"pt-3 pb-3 sm:pt-1 sm:pb-1",class:"w-full md:w-auto","button-classes":"w-full md:w-auto m-0-force","text-classes":"text-center w-full","background-color-class":"bg-red-500",onButtonClick:e[1]||(e[1]=e=>t.$emit("removeClick"))},null,8,["text"])])),_:1},8,["is-visible","title","cancel-text","size","onModalClosed"])])}]]),yt=e({emits:["modalClosed","removeConfirmClick"],data:()=>({showModal:!1}),props:{identifier:{type:Number,required:!0},isModalVisible:{type:Boolean,required:!0,default:!1}},components:{WarningModal:C},mixins:[y],methods:{async onConfirm(){await this.$moduleCall.remove(j.CONTACTS_BASE_URL,this.identifier,!1),this.$emit("removeConfirmClick"),this.$emit("modalClosed")},onModalClosed(){this.$emit("modalClosed")}},updated(){this.showModal=this.isModalVisible}},[["render",function(t,e,l,n,s,d){const r=a("WarningModal");return o(),i("div",null,[m(r,{"is-visible":s.showModal,title:t.$t("generic.action.remove.dialog.header"),onModalClosed:d.onModalClosed,onConfirm:d.onConfirm,size:t.modalSize},{content:g((()=>[v(c(t.$t("components.modal.text.removeRecord")),1)])),_:1},8,["is-visible","title","onModalClosed","onConfirm","size"])])}]]);const gt={class:"grid grid-rows-1 grid-cols-2 custom-grid w-full"},vt=["innerHTML"];var Mt=e({name:"WarningBlock",props:{text:{type:String,required:!1}},components:{"color-border-bar":G,la:V}},[["render",function(t,e,l,s,d,c){const r=a("la"),u=a("color-border-bar");return o(),b(u,{"border-color-class":"border-orange-500"},{default:g((()=>[n("div",gt,[n("span",null,[m(r,{"svg-icon-name":"exclamation-triangle-solid",color:"rgba(255, 98, 0, 0.56)","font-size":"30",class:"icon"})]),l.text?(o(),i("span",{key:0,innerHTML:l.text,class:"text-left align-self-center"},null,8,vt)):k("",!0),T(t.$slots,"default",{},void 0,!0)])])),_:3})}],["__scopeId","data-v-32692af8"]]);const wt=$("contactsStore",{state:()=>({allEntries:[]}),actions:{async getAll(){this.allEntries=await(new E).getAll(j.CONTACTS_BASE_URL)}}}),xt={class:"flex justify-center"},St={class:"mt-6 md:w-1/2 lg:w-1/3 w-full flex flex-col"},Vt={class:"text-lg"};var kt=e({data:()=>({contactsStore:null,form:{name:null,description:null,imagePath:null,groupId:null},groupsData:[]}),props:{contactData:{type:Object,required:!0}},components:{MediumButtonWithIcon:l,FormInput:M,GroupSelect:ut},emits:["closeModal"],methods:{fillFormFromContact(){var t,e,l,a,o,i,n,s;this.form.name=null!=(e=null==(t=this.contactData)?void 0:t.name)?e:null,this.form.description=null!=(a=null==(l=this.contactData)?void 0:l.description)?a:null,this.form.imagePath=null!=(i=null==(o=this.contactData)?void 0:o.imagePath)?i:null,this.form.groupId=null!=(s=null==(n=this.contactData)?void 0:n.groupId)?s:null},async onSubmit(){var t,e;let l,a=null!=(e=null==(t=null==this?void 0:this.contactData)?void 0:t.id)?e:null,o=new w(j.CONTACTS_BASE_URL,a,x,this.form);o.reload=!1,l=a?await this.$moduleCall.update(o):await this.$moduleCall.new(o),this.contactsStore.getAll(),!a&&l.success&&this.$emit("closeModal")},async getGroups(){let t=L();await t.getAll();for(let e of t.allEntries)this.groupsData.push({color:`#${e.color}`,name:e.name,id:e.id})}},beforeMount(){this.contactsStore=wt(),this.fillFormFromContact(),this.getGroups()},watch:{contactData(){this.fillFormFromContact()}}},[["render",function(t,e,l,s,d,r){const u=a("FormInput"),p=a("GroupSelect"),h=a("MediumButtonWithIcon");return o(),i("div",xt,[n("div",St,[n("h2",Vt,c(t.header),1),m(u,{type:"text",modelValue:d.form.name,"onUpdate:modelValue":e[0]||(e[0]=t=>d.form.name=t),"is-required":!0,label:t.$t("contacts.list.modal.addEdit.contactForm.name.label")},null,8,["modelValue","label"]),m(u,{type:"text",modelValue:d.form.imagePath,"onUpdate:modelValue":e[1]||(e[1]=t=>d.form.imagePath=t),label:t.$t("contacts.list.modal.addEdit.contactForm.imagePath.label")},null,8,["modelValue","label"]),m(u,{type:"text",modelValue:d.form.description,"onUpdate:modelValue":e[2]||(e[2]=t=>d.form.description=t),label:t.$t("contacts.list.modal.addEdit.contactForm.description.label")},null,8,["modelValue","label"]),m(p,{modelValue:d.form.groupId,"onUpdate:modelValue":e[3]||(e[3]=t=>d.form.groupId=t),"groups-data":d.groupsData,"is-required":!0,class:"mb-6"},null,8,["modelValue","groups-data"]),m(h,{text:t.$t("contacts.list.modal.addEdit.contactForm.submit.label"),"button-extra-classes":"pt-3 pb-3 sm:pt-1 sm:pb-1",class:"w-full mb-1 md:col-start-1 md:col-end-2","button-classes":"w-full md:w-auto m-0-force","text-classes":"text-center w-full",onButtonClick:r.onSubmit},null,8,["text","onButtonClick"])])])}]]);const Tt={class:"img-wrapper"},$t=["src"],Et={data:()=>({allTypes:[]}),props:{contactData:{type:Array,required:!0},isSubmitVisible:{type:Boolean,required:!1,default:!0}},components:{TypeSingleCard:e({data:()=>({maxLen:45}),props:{contactId:{type:[Number,null],required:!1,default:null},contactType:{type:Object,required:!0}},components:{SmallDataBlock:D},computed:{typeDetails(){return this.contactType.details.length>=this.maxLen?I.reduceStringToCharactersCount(this.contactType.details,this.maxLen):this.contactType.details}}},[["render",function(t,e,l,i,s,d){const r=a("SmallDataBlock");return o(),b(r,{"is-interactive":!0},{topLine:g((()=>[v(c(l.contactType.name),1)])),bottomLine:g((()=>[v(c(d.typeDetails),1)])),addition:g((()=>[n("div",Tt,[n("img",{src:l.contactType.icon_path},null,8,$t)])])),_:1})}],["__scopeId","data-v-4c20b772"]]),AddEditForm:bt},emits:["editClick","confirmClick"],async beforeMount(){let t=z();await t.getAll(),this.allTypes=t.allEntries}},Dt={class:"flex-wrap flex justify-around"};var It=e(Et,[["render",function(t,e,l,s,d,c){var p,h,f;const C=a("TypeSingleCard"),y=a("AddEditForm");return o(),i(r,null,[n("div",Dt,[(o(!0),i(r,null,u(null!=(h=null==(p=l.contactData)?void 0:p.types)?h:[],(e=>(o(),b(C,{key:e.uuid,"contact-type":e,onClick:l=>t.$emit("editClick",{typeData:e})},null,8,["contact-type","onClick"])))),128))]),n("div",null,[m(y,{header:t.$t("contacts.list.modal.addEdit.typeForm.header.add"),"contact-id":null==(f=l.contactData)?void 0:f.id,onSubmit:e[0]||(e[0]=e=>t.$emit("confirmClick"))},null,8,["header","contact-id"])])],64)}]]);const Bt={data:()=>({initialSmallSizeModal:"medium",showModal:!1,contactData:{}}),props:{data:{type:[Object,null],required:!1,default:null},isModalVisible:{type:Boolean,required:!0,default:!1}},components:{WarningBlock:Mt,Tabs:B,Modal:S},mixins:[y],emits:["modalClosed","singleContactTypeClick","contactTypeFormSubmit"],computed:{header(){return this.data?this.$t("contacts.list.modal.addEdit.header.edit"):this.$t("contacts.list.modal.addEdit.header.add")},tabsContent(){return[{tabName:this.$t("contacts.tabs.mainInfo.label"),tabComponent:kt,tabComponentProps:{contactData:this.contactData}},{tabName:this.$t("contacts.tabs.contactType.label"),tabComponent:It,tabComponentProps:{contactData:this.contactData}}]}},methods:{onModalClosed(){this.$emit("modalClosed")}},updated(){this.showModal=this.isModalVisible},watch:{data(){this.contactData=this.data}}},Ft=["innerHTML"],At={class:"flex justify-end mt-6"},qt={class:"w-full md:w-1/5 lg:w-1/6"},Rt={key:0,class:"flex flex-wrap justify-center"},_t={key:1};var Nt=e({data:()=>({handledContact:null,handledType:null,searchedValue:null,selectedGroup:null,store:null,contacts:[],isAddEditModalVisible:!1,isRemoveModalVisible:!1,isTypeEditModalVisible:!1,isTypeRemoveModalVisible:!1}),components:{Base:t,SingleCard:rt,NoResultsText:F,FloatingRoundedPlus:_,ContactRemoveModal:yt,ContactAddEditModal:e(Bt,[["render",function(t,e,l,s,d,c){const r=a("WarningBlock"),u=a("Tabs"),p=a("Modal");return o(),i("div",null,[m(p,{"is-visible":d.showModal,title:c.header,"cancel-text":t.$t("contacts.list.modal.addEdit.button.close.label"),size:t.modalSize,onModalClosed:c.onModalClosed},{content:g((()=>[l.data&&l.data.id?k("",!0):(o(),b(r,{key:0},{default:g((()=>[n("span",{innerHTML:t.$t("contacts.list.modal.addEdit.description.add"),class:"text-center"},null,8,Ft)])),_:1})),m(u,{"tabs-with-content":c.tabsContent,id:"contactAddEditModal",onCloseModal:e[0]||(e[0]=e=>t.$emit("modalClosed")),onConfirmClick:e[1]||(e[1]=e=>t.$emit("contactTypeFormSubmit")),onEditClick:e[2]||(e[2]=e=>t.$emit("singleContactTypeClick",e))},null,8,["tabs-with-content"])])),_:1},8,["is-visible","title","cancel-text","size","onModalClosed"])])}]]),TypeEditModal:Ct,TypeRemoveModal:mt,SearchInput:N,GroupSelect:ut},computed:{groupsData(){let t=[],e=[];for(let l of this.contacts)e.includes(l.groupId)||(t.push({color:`#${l.groupColor}`,name:l.groupName,id:l.groupId}),e.push(l.groupId));return t},visibleContacts(){let t=[];for(let e of this.contacts)if(this.searchedValue&&!e.name.toLowerCase().includes(this.searchedValue.toLowerCase())||this.selectedGroup&&e.groupId!==this.selectedGroup){for(let l of e.types)if((!this.searchedValue||l.details.toLowerCase().includes(this.searchedValue.toLowerCase()))&&(!this.selectedGroup||e.groupId===this.selectedGroup)){t.push(e);break}}else t.push(e);return t}},methods:{contactLegacyFixes(){this.contacts.forEach((t=>{t.imagePath.includes("avatar_placeholder")&&(t.imagePath="image/system/dummy-avatar.png")}))},resetSelectedGroup(){let t=null;for(let e of this.groupsData)if(e.id===this.selectedGroup){t=e.id;break}t||(this.selectedGroup=null)}},async beforeMount(){this.store=wt(),await this.store.getAll(),this.contacts=this.store.allEntries,this.contactLegacyFixes()},watch:{"store.allEntries":{deep:!0,handler:function(){if(this.contacts=this.store.allEntries,this.contactLegacyFixes(),this.resetSelectedGroup(),this.handledContact&&this.handledContact.id)for(let t of this.contacts)if(this.handledContact.id===t.id){this.handledContact=t;break}}}}},[["render",function(t,e,l,s,d,c){var p,h,f,C,y,v;const M=a("SearchInput"),w=a("GroupSelect"),x=a("SingleCard"),S=a("NoResultsText"),V=a("Base"),k=a("TypeEditModal"),T=a("TypeRemoveModal"),$=a("ContactAddEditModal"),E=a("ContactRemoveModal"),D=a("FloatingRoundedPlus"),I=A("tippy");return o(),i(r,null,[m(V,{"info-block-description":t.$t("contacts.description"),"is-in-container":!1},{default:g((()=>[n("div",At,[m(M,{modelValue:d.searchedValue,"onUpdate:modelValue":e[0]||(e[0]=t=>d.searchedValue=t)},null,8,["modelValue"]),n("div",qt,[m(w,{"groups-data":c.groupsData,modelValue:d.selectedGroup,"onUpdate:modelValue":e[1]||(e[1]=t=>d.selectedGroup=t)},null,8,["groups-data","modelValue"])])]),d.contacts.length>0?(o(),i("div",Rt,[(o(!0),i(r,null,u(c.visibleContacts,(t=>(o(),b(x,{"contact-data":t,key:JSON.stringify(t.id),onEditClick:t=>{d.isAddEditModalVisible=!0,d.handledContact=t.contactData},onRemoveClick:t=>{d.isRemoveModalVisible=!0,d.handledContact=t.contactData}},null,8,["contact-data","onEditClick","onRemoveClick"])))),128))])):(o(),i("div",_t,[m(S)]))])),_:1},8,["info-block-description"]),m(k,{"is-modal-visible":d.isTypeEditModalVisible,"contact-id":null!=(h=null==(p=d.handledContact)?void 0:p.id)?h:null,data:d.handledType,onModalClosed:e[2]||(e[2]=t=>{d.isTypeEditModalVisible=!1,d.handledType=null}),onRemoveClick:e[3]||(e[3]=t=>d.isTypeRemoveModalVisible=!0),onConfirmClick:e[4]||(e[4]=t=>d.store.getAll()),class:"relative z-21"},null,8,["is-modal-visible","contact-id","data"]),m(T,{"is-modal-visible":d.isTypeRemoveModalVisible,identifier:null!=(C=null==(f=d.handledType)?void 0:f.uuid)?C:null,onModalClosed:e[5]||(e[5]=t=>d.isTypeRemoveModalVisible=!1),onRemoveConfirmClick:e[6]||(e[6]=t=>{d.store.getAll(),d.handledType=null,d.isTypeEditModalVisible=!1}),class:"relative z-22"},null,8,["is-modal-visible","identifier"]),m($,{"is-modal-visible":d.isAddEditModalVisible,data:d.handledContact,onModalClosed:e[7]||(e[7]=t=>{d.isAddEditModalVisible=!1,d.handledContact=null}),onAddNewClick:t.onAddNewClick,onSingleContactTypeClick:e[8]||(e[8]=t=>{d.isTypeEditModalVisible=!0,d.handledType=t.typeData}),onContactTypeFormSubmit:e[9]||(e[9]=t=>d.store.getAll()),class:"relative z-20"},null,8,["is-modal-visible","data","onAddNewClick"]),m(E,{"is-modal-visible":d.isRemoveModalVisible,identifier:null!=(v=null==(y=d.handledContact)?void 0:y.id)?v:null,onModalClosed:e[10]||(e[10]=t=>d.isRemoveModalVisible=!1),onRemoveConfirmClick:e[11]||(e[11]=t=>{d.store.getAll(),d.handledContact=null}),class:"relative z-20"},null,8,["is-modal-visible","identifier"]),q(m(D,{class:"mb-10",onClick:e[12]||(e[12]=t=>d.isAddEditModalVisible=!0)},null,512),[[I,t.$t("contacts.button.addNew.hoverText")]])],64)}]]);export{Nt as default};
