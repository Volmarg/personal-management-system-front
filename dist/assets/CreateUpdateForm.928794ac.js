import{_ as e,M as t,I as l,b5 as a,aW as i,B as o,r,o as s,e as n,f as d,t as u,g as m,h as c}from"./index.7d9fe974.js";import{C as f}from"./CategorySelect.67735be4.js";import{S as y}from"./CategoriesState.df56e7c1.js";const b={data:()=>({form:{title:"",body:"",category:null}}),props:{id:{type:[Number,null],required:!1,default:null},header:{type:String,required:!1,default:""},initialBody:{type:String,required:!1,default:""},initialTitle:{type:String,required:!1,default:""},initialCategory:{type:[Number,null],required:!1,default:null},isEdit:{type:Boolean,required:!1,default:!1}},components:{CategorySelect:f,MediumButtonWithIcon:t,FormInput:l,Wyswig:a},methods:{clearFormData(){this.form.title="",this.form.body="",this.form.category=null},async onSubmit(){let e,t=new i(y.NOTES_BASE_URL,this.id,o,this.form);t.reload=!1,e=this.id?await this.$moduleCall.update(t):await this.$moduleCall.new(t),e.success&&(this.$emit("submit"),this.isEdit||this.clearFormData())}},beforeMount(){this.form.title=this.initialTitle,this.form.body=this.initialBody,this.form.category=this.initialCategory},watch:{initialCategory(){this.form.category=this.initialCategory}}},h={class:"flex justify-center"},p={class:"mt-6 md:w-1/2 lg:w-5/6 w-full flex flex-col"},g={key:0,class:"text-lg mb-10"};var w=e(b,[["render",function(e,t,l,a,i,o){const f=r("FormInput"),y=r("Wyswig"),b=r("CategorySelect"),w=r("MediumButtonWithIcon");return s(),n("div",h,[d("div",p,[l.header?(s(),n("h2",g,u(l.header),1)):m("",!0),c(f,{type:"text",modelValue:i.form.title,"onUpdate:modelValue":t[0]||(t[0]=e=>i.form.title=e),"is-required":!0,label:e.$t("notes.new.form.title.label")},null,8,["modelValue","label"]),c(y,{modelValue:i.form.body,"onUpdate:modelValue":t[1]||(t[1]=e=>i.form.body=e),"initial-value":l.initialBody,required:!0,label:e.$t("notes.common.createUpdateForm.body.label")},null,8,["modelValue","initial-value","label"]),c(b,{label:e.$t("notes.new.form.category.label"),modelValue:i.form.category,"onUpdate:modelValue":t[2]||(t[2]=e=>i.form.category=e),selected:l.initialCategory,required:!0},null,8,["label","modelValue","selected"]),c(w,{text:e.$t("notes.new.form.submit.label"),"button-extra-classes":"pt-3 pb-3 sm:pt-1 sm:pb-1",class:"w-full mb-1 md:col-start-1 md:col-end-2 mt-6","button-classes":"w-full md:w-auto m-0-force","text-classes":"text-center w-full",onButtonClick:o.onSubmit},null,8,["text","onButtonClick"])])])}]]);export{w as C};
