import{_ as e,o as s,e as a,t as r,n as t,I as o,M as d,Q as i,r as n,R as l,h as u,W as w,f as p,X as m,g as h,Y as c,k as P}from"./index.31c62b28.js";import{u as f,c as b,r as g,s as v,_ as x}from"./index.esm.6d2627d1.js";var y=e({name:"ButtonRounded",props:{buttonExtraClasses:{type:String,required:!1,default:""},text:{type:String,required:!0},backgroundColorClass:{type:String,required:!1,default:"bg-blue-500"},marginRightClass:{type:String,required:!1,default:"mr-6"}}},[["render",function(e,o,d,i,n,l){return s(),a("button",{class:t(["rounded-lg font-bold text-white px-2 py-1 transition duration-300 ease-in-out hover:opacity-70",{[d.backgroundColorClass]:!0,[d.buttonExtraClasses]:!0}]),type:"button"},r(d.text),3)}]]);const C=class{static generatePassword(e,s=C.MAX_PASSWORD_LENGTH){let a=Math.floor(Math.random()*(s-e+1))+e;return C.createRandomPassword(a)}static createRandomPassword(e){let s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*_-+=",a="";for(let r=0;r<e;r++)a+=s.charAt(Math.floor(Math.random()*s.length));return a}};let q=C;q.MAX_PASSWORD_LENGTH=20;const V={name:"PasswordWithPreview",data(){return{isPreview:!1,password:this.modelValue}},props:{shownLabel:{type:String,required:!0},violations:{type:Array,required:!1,default:()=>[]},disabled:{type:Boolean,required:!1,default:!1},modelValue:{required:!1,default:""}},emits:["passwordChanged","passwordGenerated"],components:{"button-rounded":y,"vue-input":o,MediumButtonWithIcon:d},mixins:[i],methods:{togglePreview(){this.isPreview=!this.isPreview},generatePassword(){if(this.disabled)return;let e=q.generatePassword(10);this.password=e,this.$emit("passwordGenerated",e)},getPassword(){return this.password},onPasswordInput(){this.$emit("passwordChanged",this.password)}},watch:{modelValue(){this.password=this.modelValue}}},$={class:"flex flex-col"},L={computed:{msgRequiredField(){return this.$t("validation.type.requiredField")}}};var S=e({name:"PasswordWithConfirmation.vue",setup:()=>({v$:f()}),data(){return{password:this.modelValue,confirmedPassword:null,violations:{password:[],confirmedPassword:[]}}},props:{disabled:{type:Boolean,required:!1,default:!1},modelValue:{required:!1,default:""},passwordLabel:{type:[String,null],required:!1,default:null},confirmPasswordLabel:{type:[String,String],required:!1,default:null}},validations(){return{password:{required:b.withMessage(this.msgRequiredField,g)},confirmedPassword:{required:b.withMessage(this.msgRequiredField,g),sameAsPassword:v(this.password,"password")}}},emits:["confirmPasswordChanged","passwordChanged","bothPasswordsChanged"],mixins:[x,L],computed:{usedPasswordLabel(){return this.passwordLabel?this.passwordLabel:this.$t("security.register.form.password.label")},usedConfirmPasswordLabel(){return this.confirmPasswordLabel?this.confirmPasswordLabel:this.$t("security.register.form.confirmPassword.label")}},methods:{clear(){this.password=null,this.confirmedPassword=null},onPasswordChanged(e){this.password=e,this.$emit("passwordChanged",this.password)},onPasswordGenerated(e){this.confirmedPassword=e,this.password=e,this.$emit("bothPasswordsChanged",e)},onConfirmPasswordInput(){this.$emit("confirmPasswordChanged",this.confirmedPassword)},validateInput(){return this.v$.$validate(),this.violations=this.vuelidateErrorsToPropsViolation(this.v$.$errors),this.isVuelidateResultValid}},watch:{modelValue(){this.password=this.modelValue}},components:{"password-with-preview":e(V,[["render",function(e,r,o,d,i,P){const f=n("vue-input"),b=n("fa"),g=n("button-rounded"),v=n("MediumButtonWithIcon"),x=l("tippy");return s(),a("div",$,[u(f,{type:i.isPreview?"text":"password",class:t({"m-0-force":!0,"mb-2":!0}),label:o.shownLabel,"is-required":!0,errors:o.violations,"is-disabled":o.disabled,modelValue:i.password,"onUpdate:modelValue":r[0]||(r[0]=e=>i.password=e),onInput:r[1]||(r[1]=e=>P.onPasswordInput())},null,8,["type","label","errors","is-disabled","modelValue"]),w(e.$slots,"default"),p("div",{class:t(["mb-2 mt-2 align-self-end flex md:flex-row justify-center sm:gap-0 gap-4 w-full sm:w-auto",{"flex-col":e.isPhoneBreakingPoint}])},[e.isPhoneBreakingPoint?h("",!0):m((s(),a("div",{key:0,class:"align-self-center hover:opacity-70 cursor-pointer",onClick:r[2]||(r[2]=e=>P.togglePreview())},[u(b,{icon:["far","eye"],class:"text-3xl text-gray-500"})])),[[x,e.$t("components.passwordWithPreview.togglePreview.label")]]),e.isPhoneBreakingPoint?(s(),c(g,{key:1,onClick:r[3]||(r[3]=e=>P.togglePreview()),text:e.$t("components.passwordWithPreview.togglePreview.label"),"button-extra-classes":"pt-3 pb-3 sm:pt-1 sm:pb-1"},null,8,["text"])):h("",!0),u(v,{onClick:r[4]||(r[4]=e=>P.generatePassword()),text:e.$t("components.passwordWithPreview.generatePassword.label"),disabled:o.disabled,"button-extra-classes":"pt-3 pb-3 sm:pt-1 sm:pb-1",class:"w-full sm:w-auto m-0-force","button-classes":"w-full sm:w-auto m-0-force","text-classes":"text-center w-full"},null,8,["text","disabled"])],2)])}]]),"vue-input":o}},[["render",function(e,a,r,t,o,d){const i=n("vue-input"),l=n("password-with-preview");return s(),c(l,{"shown-label":d.usedPasswordLabel,violations:o.violations.password,disabled:r.disabled,onPasswordChanged:d.onPasswordChanged,onPasswordGenerated:d.onPasswordGenerated,modelValue:o.password,"onUpdate:modelValue":a[2]||(a[2]=e=>o.password=e)},{default:P((()=>[u(i,{type:"password",label:d.usedConfirmPasswordLabel,class:"mt-6 mb-0-force","is-required":!0,errors:o.violations.confirmedPassword,"is-disabled":r.disabled,modelValue:o.confirmedPassword,"onUpdate:modelValue":a[0]||(a[0]=e=>o.confirmedPassword=e),onInput:a[1]||(a[1]=e=>d.onConfirmPasswordInput())},null,8,["label","errors","is-disabled","modelValue"])])),_:1},8,["shown-label","violations","disabled","onPasswordChanged","onPasswordGenerated","modelValue"])}]]);export{S as P,L as _};
