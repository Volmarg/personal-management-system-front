import{m as e,q as t,u as r,v as a,x as n,y as s,z as i,D as o,F as l,G as u,H as $,J as c,K as d,N as v}from"./index.93e753e6.js";const p={name:"VuelidateHandler",data:()=>({isVuelidateResultValid:!1}),methods:{vuelidateErrorsToPropsViolation(e){let t={};if(0===e.length)return this.isVuelidateResultValid=!0,{};for(let r of e)void 0===t[r.$property]?t[r.$property]=[r.$message]:t[r.$property].push(r.$message);return this.isVuelidateResultValid=!1,t}}};function f(e,t=[]){return Object.keys(e).reduce(((r,a)=>(t.includes(a)||(r[a]=d(e[a])),r)),{})}function h(e){return"function"==typeof e}function y(e,t,r){const a=d(t);return e.call(r,a,r)}function g(e){return void 0!==e.$valid?!e.$valid:!e}function m({validations:t,state:s,key:o,parentKey:l,childResults:u,resultsCache:$,globalConfig:c={},instance:p,externalResults:x}){const b=(j=function(){return z.value||F(),function(e,t,r){try{var a=Promise.resolve(e());return t?a.then(t):a}catch(n){return Promise.reject(n)}}(v,(function(){return new Promise((e=>{if(!q.value)return e(!T.value);const t=r(q,(()=>{e(!T.value),t()}))}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(j.apply(this,e))}catch(r){return Promise.reject(r)}});var j;const w=l?`${l}.${o}`:o,{rules:O,nestedValidators:E,config:R}=function(e={}){const t=d(e),r=Object.keys(t),a={},n={},s={};return r.forEach((e=>{const r=t[e];switch(!0){case h(r.$validator):a[e]=r;break;case h(r):a[e]={$validator:r};break;case e.startsWith("$"):s[e]=r;break;default:n[e]=r}})),{rules:a,nestedValidators:n,config:s}}(t),C=Object.assign({},c,R),V=o?i((()=>{const e=d(s);return e?d(e[o]):void 0})):s,P=Object.assign({},d(x)||{}),L=i((()=>{const e=d(x);return o?e?d(e[o]):void 0:e})),_=function(t,a,s,o,l,u,$,c){const v=Object.keys(t),p=o.get(l,t),m=e(!1);if(p){if(!p.$partial)return p;p.$unwatch(),m.value=p.$dirty.value}const x={$dirty:m,$path:l,$touch:()=>{m.value||(m.value=!0)},$reset:()=>{m.value&&(m.value=!1)}};return v.length?(v.forEach((n=>{x[n]=function(t,a,n,s,o,l,u,$){const c=e(!1),d=t.$params||{},v=e(null);let p,m;t.$async?({$invalid:p,$unwatch:m}=function(t,a,n,s,{$lazy:i},o,l,u=[]){const $=e(!!s.value),c=e(0);n.value=!1;const d=r([a,s].concat(u),(()=>{if(i&&!s.value)return!1;let e;try{e=y(t,a,l)}catch(r){e=Promise.reject(r)}c.value++,n.value=!!c.value,$.value=!1,Promise.resolve(e).then((e=>{c.value--,n.value=!!c.value,o.value=e,$.value=g(e)})).catch((e=>{c.value--,n.value=!!c.value,o.value=e,$.value=!0}))}),{immediate:!0,deep:"object"==typeof a});return{$invalid:$,$unwatch:d}}(t.$validator,a,c,n,s,v,o,t.$watchTargets)):({$invalid:p,$unwatch:m}=function(e,t,r,{$lazy:a},n,s){return{$unwatch:()=>({}),$invalid:i((()=>{if(a&&!r.value)return!1;try{const r=y(e,t,s);return n.value=r,g(r)}catch(i){n.value=i}return!0}))}}(t.$validator,a,n,s,v,o));const x=t.$message;return{$message:h(x)?i((()=>x(f({$pending:c,$invalid:p,$params:f(d),$model:a,$response:v,$validator:l,$propertyPath:$,$property:u})))):x||"",$params:d,$pending:c,$invalid:p,$response:v,$unwatch:m}}(t[n],a,x.$dirty,u,$,n,s,l)})),x.$externalResults=i((()=>c.value?[].concat(c.value).map(((e,t)=>({$propertyPath:l,$property:s,$validator:"$externalResults",$uid:`${l}-externalResult-${t}`,$message:e,$params:{},$response:null,$pending:!1}))):[])),x.$invalid=i((()=>!!x.$externalResults.value.length||v.some((e=>d(x[e].$invalid))))),x.$pending=i((()=>v.some((e=>d(x[e].$pending))))),x.$error=i((()=>!!x.$dirty.value&&(x.$pending.value||x.$invalid.value))),x.$silentErrors=i((()=>v.filter((e=>d(x[e].$invalid))).map((e=>{const t=x[e];return n({$propertyPath:l,$property:s,$validator:e,$uid:`${l}-${e}`,$message:t.$message,$params:t.$params,$response:t.$response,$pending:t.$pending})})).concat(x.$externalResults.value))),x.$errors=i((()=>x.$dirty.value?x.$silentErrors.value:[])),x.$unwatch=()=>v.forEach((e=>{x[e].$unwatch()})),o.set(l,t,x),x):(p&&o.set(l,t,x),x)}(O,V,o,$,w,C,p,L),k=function(e,t,r,a,n,s,i){const o=Object.keys(e);return o.length?o.reduce(((o,l)=>(o[l]=m({validations:e[l],state:t,key:l,parentKey:r,resultsCache:a,globalConfig:n,instance:s,externalResults:i}),o)),{}):{}}(E,V,w,$,C,p,L),{$dirty:z,$errors:A,$invalid:T,$anyDirty:N,$error:D,$pending:q,$touch:F,$reset:S,$silentErrors:K}=function(e,t,r){const a=i((()=>[t,r].filter((e=>e)).reduce(((e,t)=>e.concat(Object.values(d(t)))),[]))),n=i({get:()=>e.$dirty.value||!!a.value.length&&a.value.every((e=>e.$dirty)),set(t){e.$dirty.value=t}}),s=i((()=>{const t=d(e.$silentErrors)||[],r=a.value.filter((e=>(d(e).$silentErrors||[]).length)).reduce(((e,t)=>e.concat(...t.$silentErrors)),[]);return t.concat(r)})),o=i((()=>{const t=d(e.$errors)||[],r=a.value.filter((e=>(d(e).$errors||[]).length)).reduce(((e,t)=>e.concat(...t.$errors)),[]);return t.concat(r)})),l=i((()=>a.value.some((e=>e.$invalid))||d(e.$invalid)||!1)),u=i((()=>a.value.some((e=>d(e.$pending)))||d(e.$pending)||!1)),$=i((()=>a.value.some((e=>e.$dirty))||a.value.some((e=>e.$anyDirty))||n.value)),c=i((()=>!!n.value&&(u.value||l.value))),v=()=>{e.$touch(),a.value.forEach((e=>{e.$touch()}))};return a.value.length&&a.value.every((e=>e.$dirty))&&v(),{$dirty:n,$errors:o,$invalid:l,$anyDirty:$,$error:c,$pending:u,$touch:v,$reset:()=>{e.$reset(),a.value.forEach((e=>{e.$reset()}))},$silentErrors:s}}(_,k,u),M=o?i({get:()=>d(V),set:e=>{z.value=!0;const t=d(s),r=d(x);r&&(r[o]=P[o]),a(t[o])?t[o].value=e:t[o]=e}}):null;return o&&C.$autoDirty&&r(V,(()=>{z.value||F();const e=d(x);e&&(e[o]=P[o])}),{flush:"sync"}),n(Object.assign({},_,{$model:M,$dirty:z,$error:D,$errors:A,$invalid:T,$anyDirty:N,$pending:q,$touch:F,$reset:S,$path:w||"__root",$silentErrors:K,$validate:b},u&&{$getResultsForChild:function(e){return(u.value||{})[e]},$clearExternalResults:function(){a(x)?x.value=P:0===Object.keys(P).length?Object.keys(x).forEach((e=>{delete x[e]})):Object.assign(x,P)}},k))}class x{constructor(){this.storage=new Map}set(e,t,r){this.storage.set(e,{rules:t,result:r})}checkRulesValidity(e,t,r){const a=Object.keys(r),n=Object.keys(t);return n.length===a.length&&(!!n.every((e=>a.includes(e)))&&n.every((e=>!t[e].$params||Object.keys(t[e].$params).every((a=>d(r[e].$params[a])===d(t[e].$params[a]))))))}get(e,t){const r=this.storage.get(e);if(!r)return;const{rules:a,result:n}=r,s=this.checkRulesValidity(e,t,a),i=n.$unwatch?n.$unwatch:()=>({});return s?n:{$dirty:n.$dirty,$partial:!0,$unwatch:i}}}const b=Symbol("vuelidate#injectChiildResults"),j=Symbol("vuelidate#removeChiildResults"),w={COLLECT_ALL:!0,COLLECT_NONE:!1};function O(v,p,f={}){1===arguments.length&&(f=v,v=void 0,p=void 0);let{$registerAs:y,$scope:g=w.COLLECT_ALL,$stopPropagation:O,$externalResults:E}=f;const R=c(),C=R?R.type:{};if(!y&&R){const e=R.uid||R._uid;y=`_vuelidate_${e}`}const V=e({}),P=new x,{childResults:L,sendValidationResultsToParent:_,removeValidationResultsFromParent:k}=R?function({$scope:t}){const r={},a=e([]),n=i((()=>a.value.reduce(((e,t)=>(e[t]=d(r[t]),e)),{}))),s=u(b,(()=>{}));$(b,(function(e,{$registerAs:n,$scope:s,$stopPropagation:i}){i||t===w.COLLECT_NONE||s===w.COLLECT_NONE||t!==w.COLLECT_ALL&&t!==s||(r[n]=e,a.value.push(n))}));const o=u(j,(()=>{}));return $(j,(function(e){a.value=a.value.filter((t=>t!==e)),delete r[e]})),{childResults:n,sendValidationResultsToParent:s,removeValidationResultsFromParent:o}}({$scope:g}):{childResults:e({})};if(!v&&C.validations){const a=C.validations;p=e({}),t((()=>{function e(t){return new Proxy(t,{get:(t,r,a)=>"object"==typeof t[r]?e(t[r]):i((()=>t[r]))})}p.value=R.proxy,r((()=>h(a)?a.call(p.value,new e(p.value)):a),(e=>{V.value=m({validations:e,state:p,childResults:L,resultsCache:P,globalConfig:f,instance:R.proxy,externalResults:E||R.proxy.vuelidateExternalResults})}),{immediate:!0})})),f=C.validationsConfig||f}else{const e=a(v)||o(z=v)||l(z)?v:n(v||{});r(e,(e=>{V.value=m({validations:e,state:p,childResults:L,resultsCache:P,globalConfig:f,instance:R?R.proxy:{},externalResults:E})}),{immediate:!0})}var z;return R&&(_(V,{$registerAs:y,$scope:g,$stopPropagation:O}),s((()=>k(y)))),i((()=>Object.assign({},d(V.value),L.value)))}function E(e){return"function"==typeof e}function R(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function C(e){return E(e.$validator)?Object.assign({},e):{$validator:e}}function V(e){return"object"==typeof e?e.$valid:e}function P(e){return e.$validator||e}const L=e=>{if(e=d(e),Array.isArray(e))return!!e.length;if(null==e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"==typeof e){for(let t in e)return!0;return!1}return!!String(e).length};function _(e){return t=>(t=d(t),!L(t)||e.test(t))}var k=Object.freeze({__proto__:null,withParams:function(e,t){if(!R(e))throw new Error('[@vuelidate/validators]: First parameter to "withParams" should be an object, provided '+typeof e);if(!R(t)&&!E(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const r=C(t);return r.$params=Object.assign({},r.$params||{},e),r},withMessage:function(e,t){if(!E(e)&&"string"!=typeof d(e))throw new Error('[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided '+typeof e);if(!R(t)&&!E(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const r=C(t);return r.$message=e,r},withAsync:function(e,t=[]){const r=C(e);return Object.assign({},r,{$async:!0,$watchTargets:t})},forEach:function(e){return{$validator(t,...r){return d(t).reduce(((t,a)=>{const n=Object.entries(a).reduce(((t,[a,n])=>{const s=e[a]||{},i=Object.entries(s).reduce(((e,[t,s])=>{const i=P(s).call(this,n,...r),o=V(i);if(e.$data[t]=i,!o){let r=s.$message||"",l=s.$params||{};"function"==typeof r&&(r=r({$pending:!1,$invalid:!o,$params:l,$model:n,$response:i})),e.$errors.push({$property:a,$message:r,$params:l,$response:i,$model:n,$pending:!1,$validator:t})}return{$valid:e.$valid&&o,$data:e.$data,$errors:e.$errors}}),{$valid:!0,$data:{},$errors:[]});return t.$data[a]=i.$data,t.$errors[a]=i.$errors,{$valid:t.$valid&&i.$valid,$data:t.$data,$errors:t.$errors}}),{$valid:!0,$data:{},$errors:{}});return{$valid:t.$valid&&n.$valid,$data:t.$data.concat(n.$data),$errors:t.$errors.concat(n.$errors)}}),{$valid:!0,$data:[],$errors:[]})},$message:({$response:e})=>e?e.$errors.map((e=>Object.values(e).map((e=>e.map((e=>e.$message)))).reduce(((e,t)=>e.concat(t)),[]))):[]}},req:L,len:e=>(e=d(e),Array.isArray(e)?e.length:"object"==typeof e?Object.keys(e).length:String(e).length),regex:_,unwrap:d,unwrapNormalizedValidator:P,unwrapValidatorResponse:V,normalizeValidatorObject:C}),z={$validator:_(/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i),$message:"Value is not a valid email address",$params:{type:"email"}},A={$validator:function(e){return"string"==typeof e&&(e=e.trim()),L(e)},$message:"Value is required",$params:{type:"required"}};function T(e){return t=>d(t)===d(e)}function N(e,t="other"){return{$validator:T(e),$message:({$params:e})=>`The value must be equal to the ${t} value`,$params:{equalTo:e,otherName:t,type:"sameAs"}}}export{p as _,k as c,z as e,A as r,N as s,O as u};
