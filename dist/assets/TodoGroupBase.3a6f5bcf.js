import{_ as e,aO as o,a1 as i,aP as l,r as t,o as d,e as a,h as n,k as s,j as m,t as r,aQ as c,a0 as C,Y as M,g as u,aR as h,aS as v,aJ as E,aN as b,W as f,f as p,aa as k,aT as T,aU as V,af as g}from"./index.5c1c3a9f.js";import{B as R}from"./Base.16bb57ee.js";var S=e({emits:["modalClosed","removeConfirmClick"],data:()=>({showModal:!1}),props:{todoData:{type:Object,required:!0},isModalVisible:{type:Boolean,required:!0,default:!1}},components:{WarningModal:o},mixins:[i],methods:{onModalClosed(){this.$emit("modalClosed")},async onDelete(){await this.$moduleCall.remove(l.TODO_BASE_URL,this.todoData.id),this.$emit("removeConfirmClick")}},updated(){this.showModal=this.isModalVisible}},[["render",function(e,o,i,l,c,C){const M=t("WarningModal");return d(),a("div",null,[n(M,{"is-visible":c.showModal,id:"todo-remove",title:e.$t("todo.common.removeModal.header"),onModalClosed:C.onModalClosed,onConfirm:C.onDelete,size:e.modalSize},{content:s((()=>[m(r(e.$t("todo.common.removeModal.text")),1)])),_:1},8,["is-visible","title","onModalClosed","onConfirm","size"])])}]]),w=e({data:()=>({showModal:!1}),props:{element:{type:Object,required:!0},todoData:{type:Object,required:!0},isModalVisible:{type:Boolean,required:!0,default:!1}},components:{CreateEditElementForm:c,Modal:C},mixins:[i],emits:["modalClosed","confirmClick"],methods:{onModalClosed(){this.$emit("modalClosed")}},updated(){this.showModal=this.isModalVisible},created(){this.initialSmallSizeModal="medium"},watch:{isModalVisible(){this.showModal=this.isModalVisible}}},[["render",function(e,o,i,l,a,m){const r=t("CreateEditElementForm"),c=t("Modal");return i.element?(d(),M(c,{key:0,"is-visible":a.showModal,id:"todo-element-edit",title:e.$t("todo.common.editElementModal.header")+": "+i.element.name,onModalClosed:m.onModalClosed,size:e.modalSize,"cancel-text":e.$t("todo.common.editModal.text.close")},{content:s((()=>[n(r,{id:i.element.id,"initial-name":i.element.name,"todo-data":i.todoData,header:e.$t("todo.common.form.createEditTodoElement.headerEdit"),onSubmit:o[0]||(o[0]=o=>e.$emit("confirmClick"))},null,8,["id","initial-name","todo-data","header"])])),_:1},8,["is-visible","title","onModalClosed","size","cancel-text"])):u("",!0)}]]);const y={emits:["modalClosed","removeConfirmClick"],data:()=>({showModal:!1}),props:{element:{type:Object,required:!0},isModalVisible:{type:Boolean,required:!0,default:!1}},components:{WarningModal:o},mixins:[i],methods:{onModalClosed(){this.$emit("modalClosed")},async onDelete(){await this.$moduleCall.remove(l.TODO_ELEMENT_BASE_URL,this.element.id),this.$emit("removeConfirmClick")}},updated(){this.showModal=this.isModalVisible}},$={data:()=>({activeTodo:null,activeElement:null,todo:[],isEditModalVisible:!1,isRemoveModalVisible:!1,isElementRemoveModalVisible:!1,isElementEditModalVisible:!1}),props:{todoProvider:{type:Function,required:!0},canSelectModule:{type:Boolean,required:!1,default:!0},selectedModuleId:{type:[String,null],required:!1,default:null}},components:{CreateEditForm:h,ElementRemoveModal:e(y,[["render",function(e,o,i,l,c,C){const M=t("WarningModal");return d(),a("div",null,[n(M,{"is-visible":c.showModal,id:"todo-element-remove",title:e.$t("todo.common.removeElementModal.header"),onModalClosed:C.onModalClosed,onConfirm:C.onDelete,size:e.modalSize},{content:s((()=>[m(r(e.$t("todo.common.removeElementModal.text")),1)])),_:1},8,["is-visible","title","onModalClosed","onConfirm","size"])])}]]),ElementEditModal:w,RemoveModal:S,EditModal:v,Container:E,Base:R},mixins:[b],methods:{oneElementRemoveConfirm(){this.isElementRemoveModalVisible=!1,this.isEditModalVisible=!1,this.getAll()},onElementCreateOrUpdate(){this.activeTodo=null,this.activeElement=null,this.isEditModalVisible=!1,this.isElementEditModalVisible=!1,this.getAll()},onElementDelete(e){this.isElementRemoveModalVisible=!0,this.activeElement=e.element},onElementEdit(e){this.isElementEditModalVisible=!0,this.activeElement=e.element},onEditClose(){this.isEditModalVisible=!1,this.activeTodo=null,this.$refs.form.clearFormData()},async getAll(){this.todo=await this.todoProvider()},onRemoveConfirm(){this.isRemoveModalVisible=!1,this.isElementRemoveModalVisible=!1,this.isEditModalVisible=!1,this.getAll()},onSingleTodoClick(e){this.activeTodo=this.getTodoById(e,this.todo),this.isEditModalVisible=!0}},beforeMount(){this.getAll()}},x={class:"flex justify-center"},D={class:"mt-6 md:w-1/2 lg:w-1/3 w-full flex flex-col"},z={class:"text-lg mb-2"};var O=e($,[["render",function(e,o,i,l,m,c){const C=t("CreateEditForm"),M=t("Container"),u=t("Base"),h=t("EditModal"),v=t("RemoveModal"),E=t("ElementEditModal"),b=t("ElementRemoveModal");return d(),a(k,null,[n(u,{"info-block-description":e.$t("todo.description"),"is-in-container":!1},{default:s((()=>[f(e.$slots,"default",{todo:m.todo,onSingleTodoClick:c.onSingleTodoClick}),n(M,{class:"mt-4"},{default:s((()=>[p("div",x,[p("div",D,[p("h2",z,r(e.$t("todo.common.form.createEditTodo.header.new")),1),n(C,{onSubmit:c.getAll,ref:"form","can-select-module":i.canSelectModule,"initial-module-id":i.selectedModuleId},null,8,["onSubmit","can-select-module","initial-module-id"])])])])),_:1})])),_:3},8,["info-block-description"]),n(h,{"is-modal-visible":m.isEditModalVisible,onModalClosed:c.onEditClose,onDeleteClick:o[0]||(o[0]=e=>m.isRemoveModalVisible=!0),onDeleteElementClick:c.onElementDelete,onEditElementClick:c.onElementEdit,onUpdateConfirmClick:c.getAll,onCreateClick:c.onElementCreateOrUpdate,"todo-data":m.activeTodo,"can-select-module":i.canSelectModule},null,8,["is-modal-visible","onModalClosed","onDeleteElementClick","onEditElementClick","onUpdateConfirmClick","onCreateClick","todo-data","can-select-module"]),n(v,{"is-modal-visible":m.isRemoveModalVisible,onModalClosed:o[1]||(o[1]=e=>m.isRemoveModalVisible=!1),onRemoveConfirmClick:c.onRemoveConfirm,class:"relative z-21","todo-data":m.activeTodo},null,8,["is-modal-visible","onRemoveConfirmClick","todo-data"]),n(E,{"is-modal-visible":m.isElementEditModalVisible,element:m.activeElement,"todo-data":m.activeTodo,onModalClosed:o[2]||(o[2]=e=>{m.isElementEditModalVisible=!1,m.activeElement=null}),onConfirmClick:c.onElementCreateOrUpdate,class:"relative z-30"},null,8,["is-modal-visible","element","todo-data","onConfirmClick"]),n(b,{"is-modal-visible":m.isElementRemoveModalVisible,element:m.activeElement,onModalClosed:o[3]||(o[3]=e=>{m.isElementRemoveModalVisible=!1,m.activeElement=null}),onRemoveConfirmClick:c.oneElementRemoveConfirm,class:"relative z-21"},null,8,["is-modal-visible","element","onRemoveConfirmClick"])],64)}]]);const q={key:0,class:"flex flex-wrap mt-10"};var B=e({props:{allTodo:{type:Array,required:!0},moduleName:{type:[String,null],required:!0}},components:{NoResultsText:T,SingleTodo:V},emits:["singleTodoClick"],computed:{usedTodo(){return this.allTodo.filter((e=>e.module.name===this.moduleName))}},methods:{onSingleTodoClick(e){this.$emit("singleTodoClick",e)}}},[["render",function(e,o,i,l,n,s){const m=t("SingleTodo"),r=t("NoResultsText");return s.usedTodo.length>0?(d(),a("div",q,[(d(!0),a(k,null,g(s.usedTodo,(e=>(d(),M(m,{name:e.name,description:e.description,id:e.id,"show-on-dashboard":e.showOnDashboard,onSingleTodoClick:o=>s.onSingleTodoClick(e.id)},null,8,["name","description","id","show-on-dashboard","onSingleTodoClick"])))),256))])):(d(),M(r,{key:1}))}]]);export{O as L,B as T};
