import{S as e}from"./SimpleTable.b7ae8abd.js";import{_ as t,o as a,e as s,f as i,t as l,g as d,n as o,aB as n,p as r,l as h,ae as c,r as g,Y as u,aW as m,B as p}from"./index.7d9fe974.js";import"./SearchInput.85a30b8f.js";const b={name:"ColoredSwitch",data:()=>({isActive:!1,config:{handleInactiveColor:"rgb(255, 255, 255)",slideInactiveColor:"rgb(228, 228, 231)"}}),emits:["update:modelValue"],props:{modelValue:{default:!1},label:{type:String,required:!1,default:null},handleColor:{type:String,required:!1,default:"rgb(59, 130, 246)"},slideColor:{type:String,required:!1,default:"rgb(191, 219, 254)"}},computed:{getHandleColor(){return this.isActive?this.handleColor:this.config.handleInactiveColor},getSlideColor(){return this.isActive?this.slideColor:this.config.slideInactiveColor},getDescription(){return this.isActive?this.$t("generic.coloredSwitch.on.label"):this.$t("generic.coloredSwitch.off.label")}},methods:{toggleState(){this.isActive=!this.isActive,this.$emit("update:modelValue",this.isActive)}},created(){this.isActive=this.modelValue},watch:{modelValue(){this.isActive=this.modelValue,this.$emit("change",this.isActive)}}},v=()=>{n((e=>({b1872f60:e.getSlideColor,"2ade2486":e.getHandleColor})))},C=b.setup;b.setup=C?(e,t)=>(v(),C(e,t)):v;const f=b,S={key:0,class:"grid grid-rows-2 grid-cols-1 main-grid"},I={class:"text-sm"},y={class:"react-switch"},V={class:"react-switch-bg"},A=(w=()=>i("input",{type:"checkbox",role:"switch",checked:""},null,-1),r("data-v-34613ea5"),w=w(),h(),w);var w,P=t(f,[["render",function(e,t,n,r,h,c){return a(),s("div",{onClick:t[0]||(t[0]=e=>c.toggleState())},[n.label?(a(),s("div",S,[i("div",null,[i("div",I,l(n.label),1)])])):d("",!0),i("div",null,[i("div",y,[i("div",V,[i("span",{class:o(["switch-text",{"justify-end mr-1":!h.isActive}])},l(c.getDescription),3)]),i("div",{class:o({"react-switch-handle":h.isActive,"react-switch-bg-inactive":!h.isActive})},null,2),A])])])}],["__scopeId","data-v-34613ea5"]]);const W={class:"mt-10"},T={class:"text-lg"};var $=t({data(){return{dashboardWidgetsTableId:"dashboardWidgets",widgets:[],headers:[{label:"id",isVisible:!1,dataValuePath:"id.value",dataIsComponentPath:null,dataComponentPropertiesPath:null},{label:this.$t("systemSettings.tab.dashboard.table.headers.name.label"),dataValuePath:"name.value",dataIsComponentPath:"name.isComponent",dataComponentPropertiesPath:null},{label:this.$t("systemSettings.tab.dashboard.table.headers.displayWidget.label"),dataValuePath:"displayWidget.value",dataIsComponentPath:"displayWidget.isComponent",dataComponentPropertiesPath:"displayWidget.componentProps",dataComponentModelValuePath:"displayWidget.componentModelValue"}]}},components:{SimpleTable:e},mixins:[{data:()=>({widget:{schedules:"schedules",goalsProgress:"goalsProgress",goalsPayments:"goalsPayments",pendingIssues:"pendingIssues"}})}],computed:{data(){let e=[];for(let t of this.widgets)e.push({values:{id:{value:t.name,isComponent:!1,isVisible:!1},name:{value:this.$t("systemSettings.tab.dashboard.widgetToName."+t.name),isComponent:!1,componentProps:{}},displayWidget:{value:P,isComponent:!0,componentModelValue:t.enabled}}});return e}},methods:{onComponentValueChange(e){e.tableId==this.dashboardWidgetsTableId&&this.onWidgetVisibilityChange()},onWidgetVisibilityChange(){let e=[];for(let s in this.$refs.table.data)e.push({name:this.$refs.table.data[s].values.id.value,enabled:this.$refs.table.$refs[`componentidx${s}2`][0].isActive});let t={widgets:e},a=new m(c.SETTINGS_DASHBOARD_WIDGET_VISIBILITY_BASE,null,p,t);a.reload=!1,this.$moduleCall.update(a)},async fetchWidgets(){this.widgets=await this.$moduleCall.getAll(c.SETTINGS_DASHBOARD_WIDGET_VISIBILITY_BASE)}},beforeMount(){this.fetchWidgets()}},[["render",function(e,t,o,n,r,h){const c=g("SimpleTable");return a(),s("div",W,[i("h2",T,l(e.$t("systemSettings.tab.dashboard.widgetHeader")),1),h.data.length>0?(a(),u(c,{key:0,headers:r.headers,data:h.data,ref:"table",id:r.dashboardWidgetsTableId,onComponentValueChange:h.onComponentValueChange},null,8,["headers","data","id","onComponentValueChange"])):d("",!0)])}]]);export{$ as default};
