import{S as e}from"./SimpleTable.52319679.js";import{B as t}from"./Base.b0f5291c.js";import{T as a}from"./TableActions.96160990.js";import{_ as s,M as o,I as l,aY as r,B as n,r as i,o as d,e as m,f as u,t as p,h as c,Y as h,k as f}from"./index.fd0df9df.js";import{S as b,G as S}from"./GroupsStore.803e7693.js";import"./SearchInput.b68237e1.js";import"./VuelidateHandler.0ca821ed.js";import"./BrowserDetection.6a5570eb.js";import"./ColorBorderBar.5f37d705.js";import"./ClipboardService.94d9fc56.js";const w={class:"flex justify-center"},g={class:"mt-6 md:w-1/2 lg:w-1/3 w-full flex flex-col"},P={class:"text-lg"};var C=s({data:()=>({form:{name:null}}),props:{header:{type:String,required:!1,default:""},id:{type:[Number,null],required:!1,default:null},name:{type:[String,null],required:!1,default:null}},components:{MediumButtonWithIcon:o,FormInput:l},methods:{clearForm(){this.form.name=null},async onSubmit(){let e,t=new r(b.PASSWORDS_GROUPS_BASE_URL,this.id,n,this.form);t.reload=!1,e=this.id?await this.$moduleCall.update(t):await this.$moduleCall.new(t),e.success&&(this.$emit("submit"),this.clearForm())}},async beforeMount(){this.form.name=this.name}},[["render",function(e,t,a,s,o,l){const r=i("FormInput"),n=i("MediumButtonWithIcon");return d(),m("div",w,[u("div",g,[u("h2",P,p(a.header),1),c(r,{type:"text",modelValue:o.form.name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.form.name=e),"is-required":!0,label:e.$t("passwords.settings.groups.form.new.name.label")},null,8,["modelValue","label"]),c(n,{text:e.$t("passwords.settings.groups.form.new.submitButton.label"),"button-extra-classes":"pt-3 pb-3 sm:pt-1 sm:pb-1",class:"w-full mb-1 md:col-start-1 md:col-end-2 mt-6","button-classes":"w-full md:w-auto m-0-force","text-classes":"text-center w-full",onButtonClick:l.onSubmit},null,8,["text","onButtonClick"])])])}]]),B=s({data(){return{store:null,groups:[],table:{headers:[{label:"id",dataValuePath:"id.value",isVisible:!1,dataIsComponentPath:null,dataComponentPropertiesPath:null},{label:this.$t("passwords.settings.groups.table.headers.name.label"),dataValuePath:"name.value",dataIsComponentPath:"name.isComponent",dataComponentPropertiesPath:null},{label:this.$t("passwords.settings.groups.table.headers.actions.label"),dataValuePath:"actions.value",dataIsComponentPath:"actions.isComponent",dataComponentPropertiesPath:"actions.componentProps"}]}}},components:{AddEditForm:C,SimpleTable:e,Base:t},computed:{tableData(){let e=[];for(let t of this.groups)e.push({values:{id:{value:t.id,isComponent:!1},name:{value:t.name,isComponent:!1},actions:{value:a,isComponent:!0,componentProps:{editActionForm:C,baseUrl:b.PASSWORDS_GROUPS_BASE_URL,store:S}}}});return e}},async beforeMount(){this.store=S(),await this.store.getAll(),this.groups=this.store.allEntries},watch:{"store.allEntries":{deep:!0,handler:function(){this.groups=this.store.allEntries}}}},[["render",function(e,t,a,s,o,l){const r=i("SimpleTable"),n=i("AddEditForm"),m=i("Base");return d(),h(m,{"info-block-description":e.$t("passwords.settings.groups.description")},{default:f((()=>[c(r,{headers:o.table.headers,data:l.tableData},null,8,["headers","data"]),c(n,{header:e.$t("passwords.settings.groups.form.new.header"),onSubmit:o.store.getAll},null,8,["header","onSubmit"])])),_:1},8,["info-block-description"])}]]);export{B as default};
