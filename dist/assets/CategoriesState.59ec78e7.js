import{S as e,aF as t,U as n,ah as r,aG as l,a2 as a}from"./index.5c1c3a9f.js";class i extends e{}i.NOTES_CATEGORIES_BASE_URL="/module/my-notes-categories",i.NOTES_BASE_URL="/module/my-notes";const s=t("NotesCategoriesModuleStateStore",{state:()=>({allEntries:[]}),actions:{async getAll(){(new n).isModuleAccessGranted(r.CAN_ACCESS_NOTES_MODULE)?this.allEntries=await(new l).getAll(i.NOTES_CATEGORIES_BASE_URL):this.allEntries=[]},findCategory(e){let t=this.allEntries.find((t=>t.id==e));if(!t)throw new a(`No category found for id: ${e}`);return t},getNestedCategories(){let e=[...this.allEntries];e.sort(((e,t)=>{var n,r;return(null!=(n=e.parentId)?n:0)-(null!=(r=t.parentId)?r:0)}));for(let t in e){let n=e[t];if(!n.parentId)continue;let r=e.findIndex((e=>e.id===n.parentId));if(-1===r)continue;let l=e[r];l.children||(l.children=[]),n.isMovedToParent=!0,l.children.find((e=>e.id===n.id))||l.children.push(n)}for(let t in e)e[t].isMovedToParent&&delete e[t];return e.filter(Boolean)},getCategoryNestingLevel(e,t=null){null===t&&(t=0);let n=this.getParentCategory(e);return n&&(t++,t=this.getCategoryNestingLevel(n.parentId,t)),t},getParentCategory(e){var t;return null!=(t=this.allEntries.find((t=>t.id==e)))?t:null}}});export{s as C,i as S};
