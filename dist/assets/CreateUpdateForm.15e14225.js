import{_ as t,M as e,I as l,b8 as i,aY as a,B as o,r as s,o as r,e as n,f as u,t as d,g as m,h as f,Y as c}from"./index.daf34ba3.js";import{C as y}from"./CategorySelect.0649407f.js";import{S as b}from"./CategoriesState.60c5580a.js";const h={data:()=>({form:{title:"",body:"",category:null}}),props:{id:{type:[Number,null],required:!1,default:null},header:{type:String,required:!1,default:""},initialBody:{type:String,required:!1,default:""},initialTitle:{type:String,required:!1,default:""},initialCategory:{type:[Number,null],required:!1,default:null},isEdit:{type:Boolean,required:!1,default:!1},isSubmitVisible:{type:Boolean,required:!1,default:!1}},components:{MediumButtonWithIcon:e,CategorySelect:y,FormInput:l,Wyswig:i},methods:{clearFormData(){this.form.title="",this.form.body="",this.form.category=null},async submit(){this.form.body=this.$refs.wyswig.getContent();let t,e=new a(b.NOTES_BASE_URL,this.id,o,this.form);e.reload=!1,t=this.id?await this.$moduleCall.update(e):await this.$moduleCall.new(e),t.success&&(this.$emit("submit"),this.isEdit||this.clearFormData())}},beforeMount(){this.form.title=this.initialTitle,this.form.body=this.initialBody,this.form.category=this.initialCategory},watch:{initialCategory(){this.form.category=this.initialCategory}}},g={class:"flex justify-center"},p={class:"mt-6 lg:w-1/2 lg:w-5/6 w-full flex flex-col"},w={key:0,class:"text-lg mb-10"};var C=t(h,[["render",function(t,e,l,i,a,o){const y=s("FormInput"),b=s("Wyswig"),h=s("CategorySelect"),C=s("MediumButtonWithIcon");return r(),n("div",g,[u("div",p,[l.header?(r(),n("h2",w,d(l.header),1)):m("",!0),f(y,{type:"text",modelValue:a.form.title,"onUpdate:modelValue":e[0]||(e[0]=t=>a.form.title=t),"is-required":!0,label:t.$t("notes.new.form.title.label")},null,8,["modelValue","label"]),f(b,{"initial-value":l.initialBody,required:!0,label:t.$t("notes.common.createUpdateForm.body.label"),ref:"wyswig"},null,8,["initial-value","label"]),f(h,{label:t.$t("notes.new.form.category.label"),modelValue:a.form.category,"onUpdate:modelValue":e[1]||(e[1]=t=>a.form.category=t),selected:l.initialCategory,required:!0},null,8,["label","modelValue","selected"]),l.isSubmitVisible?(r(),c(C,{key:1,text:t.$t("notes.new.form.submit.label"),"button-extra-classes":"pt-3 pb-3 sm:pt-1 sm:pb-1",class:"w-full mb-1 md:col-start-1 md:col-end-2 mt-6","button-classes":"w-full md:w-auto m-0-force","text-classes":"text-center w-full",onButtonClick:o.submit},null,8,["text","onButtonClick"])):m("",!0)])])}]]);export{C};
